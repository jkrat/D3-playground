{"ast":null,"code":"import _slicedToArray from \"/Users/jim/Source/CD/JavaScript/D3/D3-playground/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/jim/Source/CD/JavaScript/D3/D3-playground/src/components/PieCharts/DynamicData.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport * as d3 from 'd3';\nimport Chart from '../Chart';\nimport DynamicDonut from './DynamicDonut'; // Make sure data set defaults to 0 for missing values\n\nconst dataSet = {\n  One: [53245, 28479, 19697, 24037, 40245, 22222],\n  Two: [200, 200, 0, 200, 200, 200],\n  Three: [300, 800, 1200, 100, 0, 0],\n  Four: [0, 300, 800, 1200, 100, 200]\n};\nconst dataTypes = d3.keys(dataSet);\n\nconst DynamicData = () => {\n  const _useState = useState({\n    title: dataTypes[0],\n    data: dataSet[dataTypes[0]]\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        data = _useState2[0],\n        setData = _useState2[1];\n\n  function change() {\n    const value = this.value;\n    const newData = {\n      title: value,\n      data: dataSet[value]\n    };\n    setData(newData);\n  }\n\n  useEffect(() => {\n    const menu = d3.select('#DynamicMenu select').on('change', change);\n    menu.selectAll('option').data(dataTypes).enter().append('option').text(d => d);\n    menu.property('value', dataTypes[0]);\n  }, []);\n  return React.createElement(Chart, {\n    title: \"Dynamic Donut\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    id: \"DynamicMenu\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Choose data\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }), React.createElement(\"select\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  })), React.createElement(DynamicDonut, {\n    title: data.title,\n    data: data.data,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }));\n};\n\nexport default DynamicData;","map":{"version":3,"sources":["/Users/jim/Source/CD/JavaScript/D3/D3-playground/src/components/PieCharts/DynamicData.jsx"],"names":["React","useState","useEffect","d3","Chart","DynamicDonut","dataSet","One","Two","Three","Four","dataTypes","keys","DynamicData","title","data","setData","change","value","newData","menu","select","on","selectAll","enter","append","text","d","property"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,KAAKC,EAAZ,MAAoB,IAApB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,YAAP,MAAyB,gBAAzB,C,CAEA;;AACA,MAAMC,OAAO,GAAG;AACdC,EAAAA,GAAG,EAAE,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,CADS;AAEdC,EAAAA,GAAG,EAAE,CAAC,GAAD,EAAM,GAAN,EAAW,CAAX,EAAc,GAAd,EAAmB,GAAnB,EAAwB,GAAxB,CAFS;AAGdC,EAAAA,KAAK,EAAE,CAAC,GAAD,EAAM,GAAN,EAAW,IAAX,EAAiB,GAAjB,EAAsB,CAAtB,EAAyB,CAAzB,CAHO;AAIdC,EAAAA,IAAI,EAAE,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,EAAc,IAAd,EAAoB,GAApB,EAAyB,GAAzB;AAJQ,CAAhB;AAMA,MAAMC,SAAS,GAAGR,EAAE,CAACS,IAAH,CAAQN,OAAR,CAAlB;;AAEA,MAAMO,WAAW,GAAG,MAAM;AAAA,oBACAZ,QAAQ,CAAC;AAC/Ba,IAAAA,KAAK,EAAEH,SAAS,CAAC,CAAD,CADe;AAE/BI,IAAAA,IAAI,EAAET,OAAO,CAACK,SAAS,CAAC,CAAD,CAAV;AAFkB,GAAD,CADR;AAAA;AAAA,QACjBI,IADiB;AAAA,QACXC,OADW;;AAMxB,WAASC,MAAT,GAAkB;AAAA,UACRC,KADQ,GACE,IADF,CACRA,KADQ;AAEhB,UAAMC,OAAO,GAAG;AAAEL,MAAAA,KAAK,EAAEI,KAAT;AAAgBH,MAAAA,IAAI,EAAET,OAAO,CAACY,KAAD;AAA7B,KAAhB;AACAF,IAAAA,OAAO,CAACG,OAAD,CAAP;AACD;;AAEDjB,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMkB,IAAI,GAAGjB,EAAE,CAACkB,MAAH,CAAU,qBAAV,EAAiCC,EAAjC,CAAoC,QAApC,EAA8CL,MAA9C,CAAb;AAEAG,IAAAA,IAAI,CACDG,SADH,CACa,QADb,EAEGR,IAFH,CAEQJ,SAFR,EAGGa,KAHH,GAIGC,MAJH,CAIU,QAJV,EAKGC,IALH,CAKQC,CAAC,IAAIA,CALb;AAOAP,IAAAA,IAAI,CAACQ,QAAL,CAAc,OAAd,EAAuBjB,SAAS,CAAC,CAAD,CAAhC;AACD,GAXQ,EAWN,EAXM,CAAT;AAaA,SACE,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,EAAE,EAAC,aAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CADF,EAME,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAEI,IAAI,CAACD,KAA1B;AAAiC,IAAA,IAAI,EAAEC,IAAI,CAACA,IAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CADF;AAUD,CAnCD;;AAqCA,eAAeF,WAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport * as d3 from 'd3';\nimport Chart from '../Chart';\nimport DynamicDonut from './DynamicDonut';\n\n// Make sure data set defaults to 0 for missing values\nconst dataSet = {\n  One: [53245, 28479, 19697, 24037, 40245, 22222],\n  Two: [200, 200, 0, 200, 200, 200],\n  Three: [300, 800, 1200, 100, 0, 0],\n  Four: [0, 300, 800, 1200, 100, 200],\n};\nconst dataTypes = d3.keys(dataSet);\n\nconst DynamicData = () => {\n  const [data, setData] = useState({\n    title: dataTypes[0],\n    data: dataSet[dataTypes[0]],\n  });\n\n  function change() {\n    const { value } = this;\n    const newData = { title: value, data: dataSet[value] };\n    setData(newData);\n  }\n\n  useEffect(() => {\n    const menu = d3.select('#DynamicMenu select').on('change', change);\n\n    menu\n      .selectAll('option')\n      .data(dataTypes)\n      .enter()\n      .append('option')\n      .text(d => d);\n\n    menu.property('value', dataTypes[0]);\n  }, []);\n\n  return (\n    <Chart title=\"Dynamic Donut\">\n      <p id=\"DynamicMenu\">\n        <b>Choose data</b>\n        <br />\n        <select></select>\n      </p>\n      <DynamicDonut title={data.title} data={data.data} />\n    </Chart>\n  );\n};\n\nexport default DynamicData;\n"]},"metadata":{},"sourceType":"module"}