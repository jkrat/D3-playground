{"ast":null,"code":"var _jsxFileName = \"/Users/jim/Source/CD/JavaScript/D3/D3-playground/src/components/BarCharts/PositiveNegative/index.js\";\nimport React, { useEffect } from 'react';\nimport * as d3 from 'd3';\nimport './style.css';\nconst margin = {\n  top: 20,\n  right: 30,\n  bottom: 40,\n  left: 30\n};\nconst width = 960 - margin.left - margin.right;\nconst height = 500 - margin.top - margin.bottom;\nconst data = [{\n  name: 'A',\n  value: -15\n}, {\n  name: 'B',\n  value: 5\n}, {\n  name: 'A',\n  value: 10\n}, {\n  name: 'D',\n  value: -20\n}, {\n  name: 'E',\n  value: -5\n}, {\n  name: 'F',\n  value: 5\n}, {\n  name: 'G',\n  value: -15\n}, {\n  name: 'H',\n  value: -15\n}, {\n  name: 'I',\n  value: 20\n}, {\n  name: 'J',\n  value: 15\n}];\nconst x = d3.scaleBand().rangeRound([margin.left, width - margin.right]).paddingInner(0.05).paddingOuter(0.3);\nconst y = d3.scaleLinear().range([height - margin.bottom, margin.top]);\nconst xAxis = d3.axisBottom(x);\nconst yAxis = d3.axisRight(y).tickSize(width - margin.left - margin.right);\n\nconst PositiveNegative = () => {\n  useEffect(() => {\n    const chart = d3.select('#PositiveNegative').attr('width', width + margin.left + margin.right).attr('height', height + margin.top + margin.bottom).append('g').attr('transform', \"translate(\".concat(margin.left, \",\").concat(margin.top, \")\"));\n    x.domain(data.map(d => d.name));\n    y.domain(d3.extent(data, d => d.value));\n    chart.append('g').classed('y PNaxis', true).attr('transform', \"translate(\".concat(margin.left, \",0)\")).call(yAxis).call(g => g.select('.domain').remove()).call(g => g.selectAll('.tick:not(:first-of-type) line').attr('stroke-opacity', 0.1)).call(g => g.selectAll('.tick text').attr('x', 4).attr('dy', -4));\n    chart.append('g').classed('x PNaxis', true).attr('transform', \"translate(0, \".concat(height - margin.bottom, \")\")).call(xAxis).call(g => g.select('.domain').remove());\n    chart.selectAll('.bar').data(data).enter().append('rect').classed('bar bar--negative', d => d.value < 0).classed('bar bar--positive', d => d.value > 0).attr('x', d => x(d.name)).attr('y', d => y(Math.max(0, d.value))).attr('width', x.bandwidth()).attr('height', d => Math.abs(y(d.value) - y(0)));\n  });\n  return React.createElement(\"svg\", {\n    id: \"PositiveNegative\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  });\n};\n\nexport default PositiveNegative;","map":{"version":3,"sources":["/Users/jim/Source/CD/JavaScript/D3/D3-playground/src/components/BarCharts/PositiveNegative/index.js"],"names":["React","useEffect","d3","margin","top","right","bottom","left","width","height","data","name","value","x","scaleBand","rangeRound","paddingInner","paddingOuter","y","scaleLinear","range","xAxis","axisBottom","yAxis","axisRight","tickSize","PositiveNegative","chart","select","attr","append","domain","map","d","extent","classed","call","g","remove","selectAll","enter","Math","max","bandwidth","abs"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport * as d3 from 'd3';\nimport './style.css';\n\nconst margin = { top: 20, right: 30, bottom: 40, left: 30 };\nconst width = 960 - margin.left - margin.right;\nconst height = 500 - margin.top - margin.bottom;\n\nconst data = [\n  { name: 'A', value: -15 },\n  { name: 'B', value: 5 },\n  { name: 'A', value: 10 },\n  { name: 'D', value: -20 },\n  { name: 'E', value: -5 },\n  { name: 'F', value: 5 },\n  { name: 'G', value: -15 },\n  { name: 'H', value: -15 },\n  { name: 'I', value: 20 },\n  { name: 'J', value: 15 },\n];\n\nconst x = d3\n  .scaleBand()\n  .rangeRound([margin.left, width - margin.right])\n  .paddingInner(0.05)\n  .paddingOuter(0.3);\n\nconst y = d3.scaleLinear().range([height - margin.bottom, margin.top]);\n\nconst xAxis = d3.axisBottom(x);\nconst yAxis = d3.axisRight(y).tickSize(width - margin.left - margin.right);\n\nconst PositiveNegative = () => {\n  useEffect(() => {\n    const chart = d3\n      .select('#PositiveNegative')\n      .attr('width', width + margin.left + margin.right)\n      .attr('height', height + margin.top + margin.bottom)\n      .append('g')\n      .attr('transform', `translate(${margin.left},${margin.top})`);\n\n    x.domain(data.map(d => d.name));\n    y.domain(d3.extent(data, d => d.value));\n\n    chart\n      .append('g')\n      .classed('y PNaxis', true)\n      .attr('transform', `translate(${margin.left},0)`)\n      .call(yAxis)\n      .call(g => g.select('.domain').remove())\n      .call(g =>\n        g\n          .selectAll('.tick:not(:first-of-type) line')\n          .attr('stroke-opacity', 0.1)\n      )\n      .call(g =>\n        g\n          .selectAll('.tick text')\n          .attr('x', 4)\n          .attr('dy', -4)\n      );\n\n    chart\n      .append('g')\n      .classed('x PNaxis', true)\n      .attr('transform', `translate(0, ${height - margin.bottom})`)\n      .call(xAxis)\n      .call(g => g.select('.domain').remove());\n\n    chart\n      .selectAll('.bar')\n      .data(data)\n      .enter()\n      .append('rect')\n      .classed('bar bar--negative', d => d.value < 0)\n      .classed('bar bar--positive', d => d.value > 0)\n      .attr('x', d => x(d.name))\n      .attr('y', d => y(Math.max(0, d.value)))\n      .attr('width', x.bandwidth())\n      .attr('height', d => Math.abs(y(d.value) - y(0)));\n  });\n  return <svg id=\"PositiveNegative\"></svg>;\n};\n\nexport default PositiveNegative;\n"]},"metadata":{},"sourceType":"module"}