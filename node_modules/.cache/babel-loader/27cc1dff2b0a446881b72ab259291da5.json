{"ast":null,"code":"var _jsxFileName = \"/Users/jim/Source/CD/JavaScript/D3/D3-playground/src/components/BarCharts/BulletChart/index.jsx\";\nimport React, { useEffect } from 'react';\nimport * as d3 from 'd3';\nimport './style.css';\nimport { d4 } from './bullet.js';\nconst margin = {\n  top: 5,\n  right: 40,\n  bottom: 20,\n  left: 120\n};\nconst width = 800 - margin.left - margin.right;\nconst height = 50 - margin.top - margin.bottom;\nlet chart;\n\nconst BulletChart = ({\n  data\n}) => {\n  const dataSet = [...data];\n  const bullet = d4.bullet().width(width).height(height);\n  useEffect(() => {\n    chart = d3.select('#BulletChart').selectAll('svg').data(dataSet).enter().append('svg').attr('class', 'bullet').attr('width', width + margin.left + margin.right).attr('height', height + margin.top + margin.bottom).append('g').attr('transform', \"translate(\".concat(margin.left, \",\").concat(margin.top, \")\"));\n    const title = chart.append('g').style('text-anchor', 'end').attr('transform', \"translate(-6,\".concat(height / 2, \")\"));\n    title.append('text').attr('class', 'title').text(d => d.title);\n    title.append('text').attr('class', 'subtitle').attr('dy', '1em').text(d => d.subtitle);\n  }, []);\n  useEffect(() => {\n    createChart();\n  }, [dataSet]);\n\n  function createChart() {\n    chart.datum(update);\n    chart.call(bullet);\n  }\n\n  function update(d, i) {\n    d.ranges = dataSet[i].ranges;\n    d.markers = dataSet[i].markers;\n    d.measures = dataSet[i].measures;\n    return d;\n  }\n\n  return React.createElement(\"div\", {\n    id: \"BulletChart\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  });\n};\n\nexport default BulletChart;","map":{"version":3,"sources":["/Users/jim/Source/CD/JavaScript/D3/D3-playground/src/components/BarCharts/BulletChart/index.jsx"],"names":["React","useEffect","d3","d4","margin","top","right","bottom","left","width","height","chart","BulletChart","data","dataSet","bullet","select","selectAll","enter","append","attr","title","style","text","d","subtitle","createChart","datum","update","call","i","ranges","markers","measures"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport * as d3 from 'd3';\nimport './style.css';\nimport { d4 } from './bullet.js';\n\nconst margin = { top: 5, right: 40, bottom: 20, left: 120 };\nconst width = 800 - margin.left - margin.right;\nconst height = 50 - margin.top - margin.bottom;\n\nlet chart;\n\nconst BulletChart = ({ data }) => {\n  const dataSet = [...data];\n\n  const bullet = d4\n    .bullet()\n    .width(width)\n    .height(height);\n\n  useEffect(() => {\n    chart = d3\n      .select('#BulletChart')\n      .selectAll('svg')\n      .data(dataSet)\n      .enter()\n      .append('svg')\n      .attr('class', 'bullet')\n      .attr('width', width + margin.left + margin.right)\n      .attr('height', height + margin.top + margin.bottom)\n      .append('g')\n      .attr('transform', `translate(${margin.left},${margin.top})`);\n\n    const title = chart\n      .append('g')\n      .style('text-anchor', 'end')\n      .attr('transform', `translate(-6,${height / 2})`);\n\n    title\n      .append('text')\n      .attr('class', 'title')\n      .text(d => d.title);\n\n    title\n      .append('text')\n      .attr('class', 'subtitle')\n      .attr('dy', '1em')\n      .text(d => d.subtitle);\n  }, []);\n\n  useEffect(() => {\n    createChart();\n  }, [dataSet]);\n\n  function createChart() {\n    chart.datum(update);\n    chart.call(bullet);\n  }\n\n  function update(d, i) {\n    d.ranges = dataSet[i].ranges;\n    d.markers = dataSet[i].markers;\n    d.measures = dataSet[i].measures;\n    return d;\n  }\n  return <div id=\"BulletChart\"></div>;\n};\n\nexport default BulletChart;\n"]},"metadata":{},"sourceType":"module"}