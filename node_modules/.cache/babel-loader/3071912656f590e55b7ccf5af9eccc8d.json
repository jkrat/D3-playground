{"ast":null,"code":"var _jsxFileName = \"/Users/jim/Source/CD/JavaScript/D3/D3-playground/src/components/BarCharts/VerticalBar/index.jsx\";\nimport React, { useEffect } from 'react';\nimport * as d3 from 'd3';\nimport './style.css';\n\nfunction rando() {\n  return Math.floor(Math.random() * 100);\n}\n\nconst data = [{\n  name: 'A',\n  a: rando(),\n  b: rando(),\n  c: rando(),\n  d: rando()\n}, {\n  name: 'B',\n  a: rando(),\n  b: rando(),\n  c: rando(),\n  d: rando()\n}, {\n  name: 'C',\n  a: rando(),\n  b: rando(),\n  c: rando(),\n  d: rando()\n}, {\n  name: 'E',\n  a: rando(),\n  b: rando(),\n  c: rando(),\n  d: rando()\n}, {\n  name: 'D',\n  a: rando(),\n  b: rando(),\n  c: rando(),\n  d: rando()\n}, {\n  name: 'F',\n  a: rando(),\n  b: rando(),\n  c: rando(),\n  d: rando()\n}, {\n  name: 'G',\n  a: rando(),\n  b: rando(),\n  c: rando(),\n  d: rando()\n}, {\n  name: 'H',\n  a: rando(),\n  b: rando(),\n  c: rando(),\n  d: rando()\n}, {\n  name: 'I',\n  a: rando(),\n  b: rando(),\n  c: rando(),\n  d: rando()\n}, {\n  name: 'J',\n  a: rando(),\n  b: rando(),\n  c: rando(),\n  d: rando()\n}, {\n  name: 'K',\n  a: rando(),\n  b: rando(),\n  c: rando(),\n  d: rando()\n}, {\n  name: 'L',\n  a: rando(),\n  b: rando(),\n  c: rando(),\n  d: rando()\n}, {\n  name: 'M',\n  a: rando(),\n  b: rando(),\n  c: rando(),\n  d: rando()\n}, {\n  name: 'N',\n  a: rando(),\n  b: rando(),\n  c: rando(),\n  d: rando()\n}, {\n  name: 'O',\n  a: rando(),\n  b: rando(),\n  c: rando(),\n  d: rando()\n}, {\n  name: 'P',\n  a: rando(),\n  b: rando(),\n  c: rando(),\n  d: rando()\n}, {\n  name: 'Q',\n  a: rando(),\n  b: rando(),\n  c: rando(),\n  d: rando()\n}, {\n  name: 'R',\n  a: rando(),\n  b: rando(),\n  c: rando(),\n  d: rando()\n}, {\n  name: 'S',\n  a: rando(),\n  b: rando(),\n  c: rando(),\n  d: rando()\n}, {\n  name: 'T',\n  a: rando(),\n  b: rando(),\n  c: rando(),\n  d: rando()\n}, {\n  name: 'U',\n  a: rando(),\n  b: rando(),\n  c: rando(),\n  d: rando()\n}, {\n  name: 'V',\n  a: rando(),\n  b: rando(),\n  c: rando(),\n  d: rando()\n}, {\n  name: 'W',\n  a: rando(),\n  b: rando(),\n  c: rando(),\n  d: rando()\n}, {\n  name: 'X',\n  a: rando(),\n  b: rando(),\n  c: rando(),\n  d: rando()\n}, {\n  name: 'Y',\n  a: rando(),\n  b: rando(),\n  c: rando(),\n  d: rando()\n}, {\n  name: 'Z',\n  a: rando(),\n  b: rando(),\n  c: rando(),\n  d: rando()\n}];\nconst margin = {\n  top: 20,\n  right: 30,\n  bottom: 30,\n  left: 40\n};\nconst width = 960 - margin.left - margin.right;\nconst height = 500 - margin.top - margin.bottom;\nlet chart, menu;\nconst letters = data;\nconst options = d3.keys(letters[0]).filter(key => key !== 'name');\nconst x = d3.scaleBand().range([0, width]).paddingInner(0.04).paddingOuter(0.1);\nconst y = d3.scaleLinear().range([height, 0]);\nconst xAxis = d3.axisBottom(x);\nconst yAxis = d3.axisLeft(y);\n\nconst LearnBarChart = () => {\n  useEffect(() => {\n    chart = d3.select('#barChartTrans').attr('width', width + margin.left + margin.right).attr('height', height + margin.top + margin.bottom).append('g').attr('transform', \"translate(\".concat(margin.left, \",\").concat(margin.top, \")\"));\n    chart.append('g').attr('class', 'x axis').attr('transform', \"translate(0,\".concat(height, \")\"));\n    chart.append('g').attr('class', 'y axis').append('text').attr('transform', 'rotate(-90)').attr('y', 6).attr('dy', '-3.5em').style('text-anchor', 'end').text('Frequency');\n    menu = d3.select('#learnMenu select').on('change', redraw);\n    menu.selectAll('option').data(options).enter().append('option').text(d => d);\n    menu.property('value', options[0]);\n    redraw();\n  });\n\n  function redraw() {\n    const t = d3.transition().duration(1500);\n    const option1 = menu.property('value');\n    const top = letters.sort((a, b) => b[option1] - a[option1]).slice(0, 15);\n    x.domain(top.map(d => d.name));\n    y.domain([0, d3.max(top, d => d[option1])]);\n    yAxis.ticks(10);\n    let bar = chart.selectAll('.bar').data(top, d => d.name);\n    bar.join(enter => enter.append('rect').attr('class', 'bar').attr('x', 0).attr('y', d => y(d[option1])).attr('height', d => height - y(d[option1])).attr('width', x.bandwidth()).style('fill-opacity', 0).call(enter => enter.transition(t).attr('x', d => x(d.name)).style('fill-opacity', 1)), update => update.call(update => update.transition(t).attr('y', d => y(d[option1])).attr('height', d => height - y(d[option1])).attr('x', d => x(d.name))), exit => exit.call(exit => exit.transition(t).style('fill-opacity', 0).attr('x', 960 + margin.left + margin.right).remove()));\n    d3.transition(t).select('.x.axis').call(xAxis);\n    d3.transition(t).select('.y.axis').call(yAxis);\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(\"svg\", {\n    id: \"barChartTrans\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    id: \"learnMenu\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, \"Select\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }), \"option: \", React.createElement(\"select\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  })));\n};\n\nexport default LearnBarChart;","map":{"version":3,"sources":["/Users/jim/Source/CD/JavaScript/D3/D3-playground/src/components/BarCharts/VerticalBar/index.jsx"],"names":["React","useEffect","d3","rando","Math","floor","random","data","name","a","b","c","d","margin","top","right","bottom","left","width","height","chart","menu","letters","options","keys","filter","key","x","scaleBand","range","paddingInner","paddingOuter","y","scaleLinear","xAxis","axisBottom","yAxis","axisLeft","LearnBarChart","select","attr","append","style","text","on","redraw","selectAll","enter","property","t","transition","duration","option1","sort","slice","domain","map","max","ticks","bar","join","bandwidth","call","update","exit","remove"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,KAAKC,EAAZ,MAAoB,IAApB;AACA,OAAO,aAAP;;AAEA,SAASC,KAAT,GAAiB;AACf,SAAOC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,GAA3B,CAAP;AACD;;AAED,MAAMC,IAAI,GAAG,CACX;AAAEC,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,CAAC,EAAEN,KAAK,EAArB;AAAyBO,EAAAA,CAAC,EAAEP,KAAK,EAAjC;AAAqCQ,EAAAA,CAAC,EAAER,KAAK,EAA7C;AAAiDS,EAAAA,CAAC,EAAET,KAAK;AAAzD,CADW,EAEX;AAAEK,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,CAAC,EAAEN,KAAK,EAArB;AAAyBO,EAAAA,CAAC,EAAEP,KAAK,EAAjC;AAAqCQ,EAAAA,CAAC,EAAER,KAAK,EAA7C;AAAiDS,EAAAA,CAAC,EAAET,KAAK;AAAzD,CAFW,EAGX;AAAEK,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,CAAC,EAAEN,KAAK,EAArB;AAAyBO,EAAAA,CAAC,EAAEP,KAAK,EAAjC;AAAqCQ,EAAAA,CAAC,EAAER,KAAK,EAA7C;AAAiDS,EAAAA,CAAC,EAAET,KAAK;AAAzD,CAHW,EAIX;AAAEK,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,CAAC,EAAEN,KAAK,EAArB;AAAyBO,EAAAA,CAAC,EAAEP,KAAK,EAAjC;AAAqCQ,EAAAA,CAAC,EAAER,KAAK,EAA7C;AAAiDS,EAAAA,CAAC,EAAET,KAAK;AAAzD,CAJW,EAKX;AAAEK,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,CAAC,EAAEN,KAAK,EAArB;AAAyBO,EAAAA,CAAC,EAAEP,KAAK,EAAjC;AAAqCQ,EAAAA,CAAC,EAAER,KAAK,EAA7C;AAAiDS,EAAAA,CAAC,EAAET,KAAK;AAAzD,CALW,EAMX;AAAEK,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,CAAC,EAAEN,KAAK,EAArB;AAAyBO,EAAAA,CAAC,EAAEP,KAAK,EAAjC;AAAqCQ,EAAAA,CAAC,EAAER,KAAK,EAA7C;AAAiDS,EAAAA,CAAC,EAAET,KAAK;AAAzD,CANW,EAOX;AAAEK,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,CAAC,EAAEN,KAAK,EAArB;AAAyBO,EAAAA,CAAC,EAAEP,KAAK,EAAjC;AAAqCQ,EAAAA,CAAC,EAAER,KAAK,EAA7C;AAAiDS,EAAAA,CAAC,EAAET,KAAK;AAAzD,CAPW,EAQX;AAAEK,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,CAAC,EAAEN,KAAK,EAArB;AAAyBO,EAAAA,CAAC,EAAEP,KAAK,EAAjC;AAAqCQ,EAAAA,CAAC,EAAER,KAAK,EAA7C;AAAiDS,EAAAA,CAAC,EAAET,KAAK;AAAzD,CARW,EASX;AAAEK,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,CAAC,EAAEN,KAAK,EAArB;AAAyBO,EAAAA,CAAC,EAAEP,KAAK,EAAjC;AAAqCQ,EAAAA,CAAC,EAAER,KAAK,EAA7C;AAAiDS,EAAAA,CAAC,EAAET,KAAK;AAAzD,CATW,EAUX;AAAEK,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,CAAC,EAAEN,KAAK,EAArB;AAAyBO,EAAAA,CAAC,EAAEP,KAAK,EAAjC;AAAqCQ,EAAAA,CAAC,EAAER,KAAK,EAA7C;AAAiDS,EAAAA,CAAC,EAAET,KAAK;AAAzD,CAVW,EAWX;AAAEK,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,CAAC,EAAEN,KAAK,EAArB;AAAyBO,EAAAA,CAAC,EAAEP,KAAK,EAAjC;AAAqCQ,EAAAA,CAAC,EAAER,KAAK,EAA7C;AAAiDS,EAAAA,CAAC,EAAET,KAAK;AAAzD,CAXW,EAYX;AAAEK,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,CAAC,EAAEN,KAAK,EAArB;AAAyBO,EAAAA,CAAC,EAAEP,KAAK,EAAjC;AAAqCQ,EAAAA,CAAC,EAAER,KAAK,EAA7C;AAAiDS,EAAAA,CAAC,EAAET,KAAK;AAAzD,CAZW,EAaX;AAAEK,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,CAAC,EAAEN,KAAK,EAArB;AAAyBO,EAAAA,CAAC,EAAEP,KAAK,EAAjC;AAAqCQ,EAAAA,CAAC,EAAER,KAAK,EAA7C;AAAiDS,EAAAA,CAAC,EAAET,KAAK;AAAzD,CAbW,EAcX;AAAEK,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,CAAC,EAAEN,KAAK,EAArB;AAAyBO,EAAAA,CAAC,EAAEP,KAAK,EAAjC;AAAqCQ,EAAAA,CAAC,EAAER,KAAK,EAA7C;AAAiDS,EAAAA,CAAC,EAAET,KAAK;AAAzD,CAdW,EAeX;AAAEK,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,CAAC,EAAEN,KAAK,EAArB;AAAyBO,EAAAA,CAAC,EAAEP,KAAK,EAAjC;AAAqCQ,EAAAA,CAAC,EAAER,KAAK,EAA7C;AAAiDS,EAAAA,CAAC,EAAET,KAAK;AAAzD,CAfW,EAgBX;AAAEK,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,CAAC,EAAEN,KAAK,EAArB;AAAyBO,EAAAA,CAAC,EAAEP,KAAK,EAAjC;AAAqCQ,EAAAA,CAAC,EAAER,KAAK,EAA7C;AAAiDS,EAAAA,CAAC,EAAET,KAAK;AAAzD,CAhBW,EAiBX;AAAEK,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,CAAC,EAAEN,KAAK,EAArB;AAAyBO,EAAAA,CAAC,EAAEP,KAAK,EAAjC;AAAqCQ,EAAAA,CAAC,EAAER,KAAK,EAA7C;AAAiDS,EAAAA,CAAC,EAAET,KAAK;AAAzD,CAjBW,EAkBX;AAAEK,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,CAAC,EAAEN,KAAK,EAArB;AAAyBO,EAAAA,CAAC,EAAEP,KAAK,EAAjC;AAAqCQ,EAAAA,CAAC,EAAER,KAAK,EAA7C;AAAiDS,EAAAA,CAAC,EAAET,KAAK;AAAzD,CAlBW,EAmBX;AAAEK,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,CAAC,EAAEN,KAAK,EAArB;AAAyBO,EAAAA,CAAC,EAAEP,KAAK,EAAjC;AAAqCQ,EAAAA,CAAC,EAAER,KAAK,EAA7C;AAAiDS,EAAAA,CAAC,EAAET,KAAK;AAAzD,CAnBW,EAoBX;AAAEK,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,CAAC,EAAEN,KAAK,EAArB;AAAyBO,EAAAA,CAAC,EAAEP,KAAK,EAAjC;AAAqCQ,EAAAA,CAAC,EAAER,KAAK,EAA7C;AAAiDS,EAAAA,CAAC,EAAET,KAAK;AAAzD,CApBW,EAqBX;AAAEK,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,CAAC,EAAEN,KAAK,EAArB;AAAyBO,EAAAA,CAAC,EAAEP,KAAK,EAAjC;AAAqCQ,EAAAA,CAAC,EAAER,KAAK,EAA7C;AAAiDS,EAAAA,CAAC,EAAET,KAAK;AAAzD,CArBW,EAsBX;AAAEK,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,CAAC,EAAEN,KAAK,EAArB;AAAyBO,EAAAA,CAAC,EAAEP,KAAK,EAAjC;AAAqCQ,EAAAA,CAAC,EAAER,KAAK,EAA7C;AAAiDS,EAAAA,CAAC,EAAET,KAAK;AAAzD,CAtBW,EAuBX;AAAEK,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,CAAC,EAAEN,KAAK,EAArB;AAAyBO,EAAAA,CAAC,EAAEP,KAAK,EAAjC;AAAqCQ,EAAAA,CAAC,EAAER,KAAK,EAA7C;AAAiDS,EAAAA,CAAC,EAAET,KAAK;AAAzD,CAvBW,EAwBX;AAAEK,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,CAAC,EAAEN,KAAK,EAArB;AAAyBO,EAAAA,CAAC,EAAEP,KAAK,EAAjC;AAAqCQ,EAAAA,CAAC,EAAER,KAAK,EAA7C;AAAiDS,EAAAA,CAAC,EAAET,KAAK;AAAzD,CAxBW,EAyBX;AAAEK,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,CAAC,EAAEN,KAAK,EAArB;AAAyBO,EAAAA,CAAC,EAAEP,KAAK,EAAjC;AAAqCQ,EAAAA,CAAC,EAAER,KAAK,EAA7C;AAAiDS,EAAAA,CAAC,EAAET,KAAK;AAAzD,CAzBW,EA0BX;AAAEK,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,CAAC,EAAEN,KAAK,EAArB;AAAyBO,EAAAA,CAAC,EAAEP,KAAK,EAAjC;AAAqCQ,EAAAA,CAAC,EAAER,KAAK,EAA7C;AAAiDS,EAAAA,CAAC,EAAET,KAAK;AAAzD,CA1BW,CAAb;AA6BA,MAAMU,MAAM,GAAG;AAAEC,EAAAA,GAAG,EAAE,EAAP;AAAWC,EAAAA,KAAK,EAAE,EAAlB;AAAsBC,EAAAA,MAAM,EAAE,EAA9B;AAAkCC,EAAAA,IAAI,EAAE;AAAxC,CAAf;AACA,MAAMC,KAAK,GAAG,MAAML,MAAM,CAACI,IAAb,GAAoBJ,MAAM,CAACE,KAAzC;AACA,MAAMI,MAAM,GAAG,MAAMN,MAAM,CAACC,GAAb,GAAmBD,MAAM,CAACG,MAAzC;AACA,IAAII,KAAJ,EAAWC,IAAX;AACA,MAAMC,OAAO,GAAGf,IAAhB;AACA,MAAMgB,OAAO,GAAGrB,EAAE,CAACsB,IAAH,CAAQF,OAAO,CAAC,CAAD,CAAf,EAAoBG,MAApB,CAA2BC,GAAG,IAAIA,GAAG,KAAK,MAA1C,CAAhB;AAEA,MAAMC,CAAC,GAAGzB,EAAE,CACT0B,SADO,GAEPC,KAFO,CAED,CAAC,CAAD,EAAIX,KAAJ,CAFC,EAGPY,YAHO,CAGM,IAHN,EAIPC,YAJO,CAIM,GAJN,CAAV;AAMA,MAAMC,CAAC,GAAG9B,EAAE,CAAC+B,WAAH,GAAiBJ,KAAjB,CAAuB,CAACV,MAAD,EAAS,CAAT,CAAvB,CAAV;AAEA,MAAMe,KAAK,GAAGhC,EAAE,CAACiC,UAAH,CAAcR,CAAd,CAAd;AAEA,MAAMS,KAAK,GAAGlC,EAAE,CAACmC,QAAH,CAAYL,CAAZ,CAAd;;AAEA,MAAMM,aAAa,GAAG,MAAM;AAC1BrC,EAAAA,SAAS,CAAC,MAAM;AACdmB,IAAAA,KAAK,GAAGlB,EAAE,CACPqC,MADK,CACE,gBADF,EAELC,IAFK,CAEA,OAFA,EAEStB,KAAK,GAAGL,MAAM,CAACI,IAAf,GAAsBJ,MAAM,CAACE,KAFtC,EAGLyB,IAHK,CAGA,QAHA,EAGUrB,MAAM,GAAGN,MAAM,CAACC,GAAhB,GAAsBD,MAAM,CAACG,MAHvC,EAILyB,MAJK,CAIE,GAJF,EAKLD,IALK,CAKA,WALA,sBAK0B3B,MAAM,CAACI,IALjC,cAKyCJ,MAAM,CAACC,GALhD,OAAR;AAOAM,IAAAA,KAAK,CACFqB,MADH,CACU,GADV,EAEGD,IAFH,CAEQ,OAFR,EAEiB,QAFjB,EAGGA,IAHH,CAGQ,WAHR,wBAGoCrB,MAHpC;AAKAC,IAAAA,KAAK,CACFqB,MADH,CACU,GADV,EAEGD,IAFH,CAEQ,OAFR,EAEiB,QAFjB,EAGGC,MAHH,CAGU,MAHV,EAIGD,IAJH,CAIQ,WAJR,EAIqB,aAJrB,EAKGA,IALH,CAKQ,GALR,EAKa,CALb,EAMGA,IANH,CAMQ,IANR,EAMc,QANd,EAOGE,KAPH,CAOS,aAPT,EAOwB,KAPxB,EAQGC,IARH,CAQQ,WARR;AAUAtB,IAAAA,IAAI,GAAGnB,EAAE,CAACqC,MAAH,CAAU,mBAAV,EAA+BK,EAA/B,CAAkC,QAAlC,EAA4CC,MAA5C,CAAP;AAEAxB,IAAAA,IAAI,CACDyB,SADH,CACa,QADb,EAEGvC,IAFH,CAEQgB,OAFR,EAGGwB,KAHH,GAIGN,MAJH,CAIU,QAJV,EAKGE,IALH,CAKQ/B,CAAC,IAAIA,CALb;AAOAS,IAAAA,IAAI,CAAC2B,QAAL,CAAc,OAAd,EAAuBzB,OAAO,CAAC,CAAD,CAA9B;AAEAsB,IAAAA,MAAM;AACP,GAnCQ,CAAT;;AAqCA,WAASA,MAAT,GAAkB;AAChB,UAAMI,CAAC,GAAG/C,EAAE,CAACgD,UAAH,GAAgBC,QAAhB,CAAyB,IAAzB,CAAV;AACA,UAAMC,OAAO,GAAG/B,IAAI,CAAC2B,QAAL,CAAc,OAAd,CAAhB;AACA,UAAMlC,GAAG,GAAGQ,OAAO,CAAC+B,IAAR,CAAa,CAAC5C,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAAC0C,OAAD,CAAD,GAAa3C,CAAC,CAAC2C,OAAD,CAArC,EAAgDE,KAAhD,CAAsD,CAAtD,EAAyD,EAAzD,CAAZ;AAEA3B,IAAAA,CAAC,CAAC4B,MAAF,CAASzC,GAAG,CAAC0C,GAAJ,CAAQ5C,CAAC,IAAIA,CAAC,CAACJ,IAAf,CAAT;AACAwB,IAAAA,CAAC,CAACuB,MAAF,CAAS,CAAC,CAAD,EAAIrD,EAAE,CAACuD,GAAH,CAAO3C,GAAP,EAAYF,CAAC,IAAIA,CAAC,CAACwC,OAAD,CAAlB,CAAJ,CAAT;AACAhB,IAAAA,KAAK,CAACsB,KAAN,CAAY,EAAZ;AAEA,QAAIC,GAAG,GAAGvC,KAAK,CAAC0B,SAAN,CAAgB,MAAhB,EAAwBvC,IAAxB,CAA6BO,GAA7B,EAAkCF,CAAC,IAAIA,CAAC,CAACJ,IAAzC,CAAV;AAEAmD,IAAAA,GAAG,CAACC,IAAJ,CACEb,KAAK,IACHA,KAAK,CACFN,MADH,CACU,MADV,EAEGD,IAFH,CAEQ,OAFR,EAEiB,KAFjB,EAGGA,IAHH,CAGQ,GAHR,EAGa,CAHb,EAIGA,IAJH,CAIQ,GAJR,EAIa5B,CAAC,IAAIoB,CAAC,CAACpB,CAAC,CAACwC,OAAD,CAAF,CAJnB,EAKGZ,IALH,CAKQ,QALR,EAKkB5B,CAAC,IAAIO,MAAM,GAAGa,CAAC,CAACpB,CAAC,CAACwC,OAAD,CAAF,CALjC,EAMGZ,IANH,CAMQ,OANR,EAMiBb,CAAC,CAACkC,SAAF,EANjB,EAOGnB,KAPH,CAOS,cAPT,EAOyB,CAPzB,EAQGoB,IARH,CAQQf,KAAK,IACTA,KAAK,CACFG,UADH,CACcD,CADd,EAEGT,IAFH,CAEQ,GAFR,EAEa5B,CAAC,IAAIe,CAAC,CAACf,CAAC,CAACJ,IAAH,CAFnB,EAGGkC,KAHH,CAGS,cAHT,EAGyB,CAHzB,CATJ,CAFJ,EAgBEqB,MAAM,IACJA,MAAM,CAACD,IAAP,CAAYC,MAAM,IAChBA,MAAM,CACHb,UADH,CACcD,CADd,EAEGT,IAFH,CAEQ,GAFR,EAEa5B,CAAC,IAAIoB,CAAC,CAACpB,CAAC,CAACwC,OAAD,CAAF,CAFnB,EAGGZ,IAHH,CAGQ,QAHR,EAGkB5B,CAAC,IAAIO,MAAM,GAAGa,CAAC,CAACpB,CAAC,CAACwC,OAAD,CAAF,CAHjC,EAIGZ,IAJH,CAIQ,GAJR,EAIa5B,CAAC,IAAIe,CAAC,CAACf,CAAC,CAACJ,IAAH,CAJnB,CADF,CAjBJ,EAwBEwD,IAAI,IACFA,IAAI,CAACF,IAAL,CAAUE,IAAI,IACZA,IAAI,CACDd,UADH,CACcD,CADd,EAEGP,KAFH,CAES,cAFT,EAEyB,CAFzB,EAGGF,IAHH,CAGQ,GAHR,EAGa,MAAM3B,MAAM,CAACI,IAAb,GAAoBJ,MAAM,CAACE,KAHxC,EAIGkD,MAJH,EADF,CAzBJ;AAkCA/D,IAAAA,EAAE,CAACgD,UAAH,CAAcD,CAAd,EACGV,MADH,CACU,SADV,EAEGuB,IAFH,CAEQ5B,KAFR;AAIAhC,IAAAA,EAAE,CAACgD,UAAH,CAAcD,CAAd,EACGV,MADH,CACU,SADV,EAEGuB,IAFH,CAEQ1B,KAFR;AAGD;;AAED,SACE,0CACE;AAAK,IAAA,EAAE,EAAC,eAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAG,IAAA,EAAE,EAAC,WAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,cAGU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHV,CAFF,CADF;AAUD,CAtGD;;AAwGA,eAAeE,aAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport * as d3 from 'd3';\nimport './style.css';\n\nfunction rando() {\n  return Math.floor(Math.random() * 100);\n}\n\nconst data = [\n  { name: 'A', a: rando(), b: rando(), c: rando(), d: rando() },\n  { name: 'B', a: rando(), b: rando(), c: rando(), d: rando() },\n  { name: 'C', a: rando(), b: rando(), c: rando(), d: rando() },\n  { name: 'E', a: rando(), b: rando(), c: rando(), d: rando() },\n  { name: 'D', a: rando(), b: rando(), c: rando(), d: rando() },\n  { name: 'F', a: rando(), b: rando(), c: rando(), d: rando() },\n  { name: 'G', a: rando(), b: rando(), c: rando(), d: rando() },\n  { name: 'H', a: rando(), b: rando(), c: rando(), d: rando() },\n  { name: 'I', a: rando(), b: rando(), c: rando(), d: rando() },\n  { name: 'J', a: rando(), b: rando(), c: rando(), d: rando() },\n  { name: 'K', a: rando(), b: rando(), c: rando(), d: rando() },\n  { name: 'L', a: rando(), b: rando(), c: rando(), d: rando() },\n  { name: 'M', a: rando(), b: rando(), c: rando(), d: rando() },\n  { name: 'N', a: rando(), b: rando(), c: rando(), d: rando() },\n  { name: 'O', a: rando(), b: rando(), c: rando(), d: rando() },\n  { name: 'P', a: rando(), b: rando(), c: rando(), d: rando() },\n  { name: 'Q', a: rando(), b: rando(), c: rando(), d: rando() },\n  { name: 'R', a: rando(), b: rando(), c: rando(), d: rando() },\n  { name: 'S', a: rando(), b: rando(), c: rando(), d: rando() },\n  { name: 'T', a: rando(), b: rando(), c: rando(), d: rando() },\n  { name: 'U', a: rando(), b: rando(), c: rando(), d: rando() },\n  { name: 'V', a: rando(), b: rando(), c: rando(), d: rando() },\n  { name: 'W', a: rando(), b: rando(), c: rando(), d: rando() },\n  { name: 'X', a: rando(), b: rando(), c: rando(), d: rando() },\n  { name: 'Y', a: rando(), b: rando(), c: rando(), d: rando() },\n  { name: 'Z', a: rando(), b: rando(), c: rando(), d: rando() },\n];\n\nconst margin = { top: 20, right: 30, bottom: 30, left: 40 };\nconst width = 960 - margin.left - margin.right;\nconst height = 500 - margin.top - margin.bottom;\nlet chart, menu;\nconst letters = data;\nconst options = d3.keys(letters[0]).filter(key => key !== 'name');\n\nconst x = d3\n  .scaleBand()\n  .range([0, width])\n  .paddingInner(0.04)\n  .paddingOuter(0.1);\n\nconst y = d3.scaleLinear().range([height, 0]);\n\nconst xAxis = d3.axisBottom(x);\n\nconst yAxis = d3.axisLeft(y);\n\nconst LearnBarChart = () => {\n  useEffect(() => {\n    chart = d3\n      .select('#barChartTrans')\n      .attr('width', width + margin.left + margin.right)\n      .attr('height', height + margin.top + margin.bottom)\n      .append('g')\n      .attr('transform', `translate(${margin.left},${margin.top})`);\n\n    chart\n      .append('g')\n      .attr('class', 'x axis')\n      .attr('transform', `translate(0,${height})`);\n\n    chart\n      .append('g')\n      .attr('class', 'y axis')\n      .append('text')\n      .attr('transform', 'rotate(-90)')\n      .attr('y', 6)\n      .attr('dy', '-3.5em')\n      .style('text-anchor', 'end')\n      .text('Frequency');\n\n    menu = d3.select('#learnMenu select').on('change', redraw);\n\n    menu\n      .selectAll('option')\n      .data(options)\n      .enter()\n      .append('option')\n      .text(d => d);\n\n    menu.property('value', options[0]);\n\n    redraw();\n  });\n\n  function redraw() {\n    const t = d3.transition().duration(1500);\n    const option1 = menu.property('value');\n    const top = letters.sort((a, b) => b[option1] - a[option1]).slice(0, 15);\n\n    x.domain(top.map(d => d.name));\n    y.domain([0, d3.max(top, d => d[option1])]);\n    yAxis.ticks(10);\n\n    let bar = chart.selectAll('.bar').data(top, d => d.name);\n\n    bar.join(\n      enter =>\n        enter\n          .append('rect')\n          .attr('class', 'bar')\n          .attr('x', 0)\n          .attr('y', d => y(d[option1]))\n          .attr('height', d => height - y(d[option1]))\n          .attr('width', x.bandwidth())\n          .style('fill-opacity', 0)\n          .call(enter =>\n            enter\n              .transition(t)\n              .attr('x', d => x(d.name))\n              .style('fill-opacity', 1)\n          ),\n      update =>\n        update.call(update =>\n          update\n            .transition(t)\n            .attr('y', d => y(d[option1]))\n            .attr('height', d => height - y(d[option1]))\n            .attr('x', d => x(d.name))\n        ),\n      exit =>\n        exit.call(exit =>\n          exit\n            .transition(t)\n            .style('fill-opacity', 0)\n            .attr('x', 960 + margin.left + margin.right)\n            .remove()\n        )\n    );\n\n    d3.transition(t)\n      .select('.x.axis')\n      .call(xAxis);\n\n    d3.transition(t)\n      .select('.y.axis')\n      .call(yAxis);\n  }\n\n  return (\n    <>\n      <svg id=\"barChartTrans\" />\n      <p id=\"learnMenu\">\n        <b>Select</b>\n        <br />\n        option: <select></select>\n      </p>\n    </>\n  );\n};\n\nexport default LearnBarChart;\n"]},"metadata":{},"sourceType":"module"}