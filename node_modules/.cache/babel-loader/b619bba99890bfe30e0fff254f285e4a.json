{"ast":null,"code":"var _jsxFileName = \"/Users/jim/Source/CD/JavaScript/D3/D3-playground/src/components/BarCharts/HorizontalStack/index.jsx\";\nimport React, { useEffect } from 'react';\nimport * as d3 from 'd3';\nconst colors = ['#FBB65B', '#513551', '#de3163'];\nconst width = 900;\nconst height = 200;\nconst data = [{\n  day: 'Mon',\n  apricots: 120,\n  blueberries: 180,\n  cherries: 100\n}, {\n  day: 'Tue',\n  apricots: 60,\n  blueberries: 185,\n  cherries: 105\n}, {\n  day: 'Wed',\n  apricots: 100,\n  blueberries: 215,\n  cherries: 110\n}, {\n  day: 'Thu',\n  apricots: 80,\n  blueberries: 230,\n  cherries: 105\n}, {\n  day: 'Fri',\n  apricots: 120,\n  blueberries: 240,\n  cherries: 105\n}];\nconst x = d3.scaleLinear().domain([0, d3.max(data, d => d.apricots + d.blueberries + d.cherries)]).range([0, width]);\nconst y = d3.scaleBand().domain(data.map(d => d.day)).range([0, height]).paddingInner(0.04).paddingOuter(0.1);\nconst stack = d3.stack().keys(['apricots', 'blueberries', 'cherries']);\n\nconst HorizontalStack = () => {\n  const stackedSeries = stack(data);\n  useEffect(() => {\n    const chart = d3.select('#HorizontalStack').attr('width', width).attr('height', height);\n    const layer = chart.selectAll('g.series').data(stackedSeries).enter().append('g').classed('series', true).style('fill', (d, i) => colors[i]);\n    layer.selectAll('rect').data(d => d).enter().append('rect').attr('x', d => x(d[0])).attr('width', d => x(d[1] - d[0])).attr('y', d => y(d.data.day)).attr('height', y.bandwidth());\n  });\n  return React.createElement(\"svg\", {\n    id: \"HorizontalStack\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  });\n};\n\nexport default HorizontalStack;","map":{"version":3,"sources":["/Users/jim/Source/CD/JavaScript/D3/D3-playground/src/components/BarCharts/HorizontalStack/index.jsx"],"names":["React","useEffect","d3","colors","width","height","data","day","apricots","blueberries","cherries","x","scaleLinear","domain","max","d","range","y","scaleBand","map","paddingInner","paddingOuter","stack","keys","HorizontalStack","stackedSeries","chart","select","attr","layer","selectAll","enter","append","classed","style","i","bandwidth"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport * as d3 from 'd3';\n\nconst colors = ['#FBB65B', '#513551', '#de3163'];\nconst width = 900;\nconst height = 200;\nconst data = [\n  { day: 'Mon', apricots: 120, blueberries: 180, cherries: 100 },\n  { day: 'Tue', apricots: 60, blueberries: 185, cherries: 105 },\n  { day: 'Wed', apricots: 100, blueberries: 215, cherries: 110 },\n  { day: 'Thu', apricots: 80, blueberries: 230, cherries: 105 },\n  { day: 'Fri', apricots: 120, blueberries: 240, cherries: 105 },\n];\n\nconst x = d3\n  .scaleLinear()\n  .domain([0, d3.max(data, d => d.apricots + d.blueberries + d.cherries)])\n  .range([0, width]);\n\nconst y = d3\n  .scaleBand()\n  .domain(data.map(d => d.day))\n  .range([0, height])\n  .paddingInner(0.04)\n  .paddingOuter(0.1);\n\nconst stack = d3.stack().keys(['apricots', 'blueberries', 'cherries']);\n\nconst HorizontalStack = () => {\n  const stackedSeries = stack(data);\n\n  useEffect(() => {\n    const chart = d3\n      .select('#HorizontalStack')\n      .attr('width', width)\n      .attr('height', height);\n\n    const layer = chart\n      .selectAll('g.series')\n      .data(stackedSeries)\n      .enter()\n      .append('g')\n      .classed('series', true)\n      .style('fill', (d, i) => colors[i]);\n\n    layer\n      .selectAll('rect')\n      .data(d => d)\n      .enter()\n      .append('rect')\n      .attr('x', d => x(d[0]))\n      .attr('width', d => x(d[1] - d[0]))\n      .attr('y', d => y(d.data.day))\n      .attr('height', y.bandwidth());\n  });\n\n  return <svg id=\"HorizontalStack\"></svg>;\n};\n\nexport default HorizontalStack;\n"]},"metadata":{},"sourceType":"module"}